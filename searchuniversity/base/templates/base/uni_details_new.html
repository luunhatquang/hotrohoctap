{% extends 'base/base_layout.html'%}
{% load static %}

{% block content_inner %}
<!-- Back Link -->
<a href="{% url 'home' %}" class="back-link" style="display: inline-flex; align-items: center; gap: 8px; color: #0066cc; text-decoration: none; margin-bottom: 20px; font-size: 14px;">
    <i class="fas fa-arrow-left"></i>
    <span>Quay lại danh sách</span>
</a>

<!-- University Header -->
<div class="uni-header" style="background: linear-gradient(135deg, #0066cc 0%, #0052a3 100%); color: white; padding: 30px; border-radius: 12px; margin-bottom: 30px;">
    <div class="uni-code-badge" style="background: rgba(255, 255, 255, 0.2); display: inline-block; padding: 8px 16px; border-radius: 6px; font-weight: 700; margin-bottom: 10px;">{{ uni_room.code }}</div>
    <h1 style="margin: 0 0 15px 0; font-size: 28px;">{{ uni_room.name }}</h1>
    
    <div class="uni-contact-info" style="display: flex; flex-wrap: wrap; gap: 20px; font-size: 14px;">
        {% if uni_room.address %}
        <div class="uni-contact-item" style="display: flex; align-items: center; gap: 8px;">
            <i class="fas fa-map-marker-alt"></i>
            <span>{{ uni_room.address }}</span>
        </div>
        {% endif %}
        
        {% if uni_room.phone %}
        <div class="uni-contact-item" style="display: flex; align-items: center; gap: 8px;">
            <i class="fas fa-phone"></i>
            <span>{{ uni_room.phone }}</span>
        </div>
        {% endif %}
        
        {% if uni_room.email %}
        <div class="uni-contact-item" style="display: flex; align-items: center; gap: 8px;">
            <i class="fas fa-envelope"></i>
            <span>{{ uni_room.email }}</span>
        </div>
        {% endif %}
        
        {% if uni_room.website %}
        <div class="uni-contact-item" style="display: flex; align-items: center; gap: 8px;">
            <i class="fas fa-globe"></i>
            <a href="{{ uni_room.website }}" target="_blank" style="color: #fff; text-decoration: underline;">Website</a>
        </div>
        {% endif %}
    </div>
</div>

<!-- Programs Section -->
<div class="programs-section">
    <h2 style="font-size: 24px; color: #333; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
        <i class="fas fa-book" style="color: #0066cc;"></i>
        Danh sách ngành học
    </h2>

    {% for p in program %}
    <div class="program-card" style="background: white; border-radius: 12px; padding: 25px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05); border: 2px solid #e0e0e0;">
        <div class="program-header" style="margin-bottom: 15px;">
            <div>
                <div class="program-code" style="background: #0066cc; color: white; display: inline-block; padding: 4px 12px; border-radius: 4px; font-size: 14px; font-weight: 600; margin-bottom: 8px;">{{ p.code }}</div>
                <div class="program-name" style="font-size: 20px; font-weight: 700; color: #333;">{{ p.name }}</div>
            </div>
        </div>

        {% if p.subject_combinations or p.tuition %}
        <div class="program-meta" style="display: flex; flex-wrap: wrap; gap: 20px; margin-bottom: 15px; padding-top: 15px; border-top: 1px solid #e0e0e0;">
            {% if p.subject_combinations %}
            <div class="program-meta-item" style="display: flex; align-items: center; gap: 8px; color: #666;">
                <i class="fas fa-layer-group" style="color: #0066cc;"></i>
                <span>Tổ hợp: {{ p.subject_combinations }}</span>
            </div>
            {% endif %}
            
            {% if p.tuition %}
            <div class="program-meta-item" style="display: flex; align-items: center; gap: 8px; color: #666;">
                <i class="fas fa-money-bill-wave" style="color: #0066cc;"></i>
                <span>Học phí: {{ p.tuition }} triệu/năm</span>
            </div>
            {% endif %}
        </div>
        {% endif %}

        <!-- Admission Scores -->
        <div class="admission-scores" style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
            <h4 style="font-size: 16px; color: #333; margin: 0 0 10px 0; display: flex; align-items: center; gap: 8px;">
                <i class="fas fa-chart-line" style="color: #0066cc;"></i>
                Điểm chuẩn các năm
            </h4>
            
            {% if p.admissions.all %}
            <div class="score-list" style="display: flex; gap: 15px; flex-wrap: wrap;">
                {% for a in p.admissions.all %}
                <div class="score-item" style="background: white; padding: 10px 15px; border-radius: 6px; border: 2px solid #e0e0e0; text-align: center;">
                    <div class="score-year" style="font-size: 12px; color: #666; margin-bottom: 4px;">Năm {{ a.year }}</div>
                    <div class="score-value" style="font-size: 20px; font-weight: 700; color: #d32f2f;">{{ a.score }} điểm</div>
                </div>
                {% endfor %}
            </div>
            {% else %}
            <p style="color: #999; font-size: 14px; margin: 0;">Chưa có thông tin điểm chuẩn</p>
            {% endif %}
        </div>
    </div>
    {% empty %}
    <div class="empty-state" style="text-align: center; padding: 60px 20px; color: #999;">
        <i class="fas fa-inbox" style="font-size: 48px; color: #ddd; margin-bottom: 10px;"></i>
        <p>Chưa có ngành nào cho trường này.</p>
    </div>
    {% endfor %}
</div>
{% endblock %}
