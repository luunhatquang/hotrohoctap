{% extends 'base/base_layout.html'%}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="{% static 'css/chat_ai.css' %}">
{% endblock %}

{% block content_inner %}
<div class="breadcrumb">
    <a href="{% url 'home' %}">Trang chủ</a>
    <span>›</span>
    <span>Chat AI Tư Vấn</span>
</div>

<div class="chat-ai-wrapper">
    <!-- Header -->
    <div class="chat-header">
        <div class="chat-title">
            <i class="fas fa-robot"></i>
            Trợ Lý AI Tư Vấn Tuyển Sinh
        </div>
        <div class="chat-actions">
            <button class="action-btn" onclick="clearChat()">
                <i class="fas fa-trash"></i> Xóa
            </button>
        </div>
    </div>

    <!-- Messages -->
    <div class="chat-messages" id="chatMessages">
        <div class="messages-inner">
            <!-- Empty State -->
            <div class="empty-state" id="emptyState">
                <div class="empty-state-icon">
                    <i class="fas fa-robot"></i>
                </div>
                <h2>Xin chào! Tôi có thể giúp gì cho bạn?</h2>
                <p>Hỏi tôi bất cứ điều gì về tuyển sinh đại học</p>
            </div>

            <!-- Messages will be inserted here -->
            <div id="messagesContainer"></div>
        </div>
    </div>

    <!-- Input -->
    <div class="chat-input-container">
        <div class="input-wrapper">
            <textarea 
                id="chatInput" 
                class="chat-input" 
                placeholder="Nhập câu hỏi của bạn..."
                rows="1"
                onkeydown="handleKeyPress(event)"
                oninput="handleInput()"
            ></textarea>
            <button class="send-button" id="sendButton" onclick="sendMessage()" disabled>
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
        <div class="input-hint">
            Nhấn Enter để gửi, Shift + Enter để xuống dòng
        </div>
    </div>
</div>

{% endblock %}

{% block extra_js %}
<script src="{% static 'js/chat_ai.js' %}"></script>
{% endblock %}
